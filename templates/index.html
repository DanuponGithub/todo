{% extends "base.html" %}
{% block title %}ToDo ‚Ä¢ Render{% endblock %}
{% block content %}
  <h1 class="mb-4">‚úÖ ToDo List</h1>

  <form class="row g-2 mb-4" method="get" action="/">
    <div class="col-md-9">
      <input class="form-control" name="q" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." value="{{ q or '' }}">
    </div>
    <div class="col-md-3 d-grid">
      <button class="btn btn-outline-light">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </div>
  </form>

  <div class="card p-3 mb-4">
    <form class="row g-2" method="post" action="{{ url_for('add') }}">
      <div class="col-md-9">
        <input class="form-control" name="title" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Add">
      </div>
      <div class="col-md-3 d-grid">
        <button class="btn btn-light">Add</button>
      </div>
    </form>
  </div>

  {% if todos %}
    <ul class="list-group">
      {% for t in todos %}
        <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent">
          <div class="{{ 'strike' if t.is_done else '' }}">
            {{ t.title }}
            <small class="text-secondary d-block">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ {{ t.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
          </div>
          <div class="btn-group">
            <form method="post" action="{{ url_for('toggle', todo_id=t.id) }}">
              <button class="btn btn-sm btn-outline-info">{{ 'Undo' if t.is_done else 'Done' }}</button>
            </form>
            <form method="post" action="{{ url_for('delete', todo_id=t.id) }}" onsubmit="return confirm('‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ?')">
              <button class="btn btn-sm btn-outline-danger">Delete</button>
            </form>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="text-secondary">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏£‡∏Å‡πÄ‡∏•‡∏¢ üöÄ</div>
  {% endif %}
{% endblock %}
